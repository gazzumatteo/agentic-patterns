graph TB
    A[User Input] --> B[Input Validation]
    B --> C{PII<br/>Detection}
    C -->|Contains PII| D[Sanitize]
    C -->|Clean| E[Agent Processing]
    D --> E
    E --> F[Output Generation]
    F --> G[Output Filter]
    G --> H{Policy<br/>Check}
    H -->|Violation| I[Block & Alert]
    H -->|Compliant| J[Final Output]
    style A fill:#fff,stroke:#4285f4,stroke-width:2px
    style B fill:#ea4335,color:#fff
    style C fill:#ea4335,color:#fff
    style D fill:#fbbc04,color:#000
    style E fill:#4285f4,color:#fff
    style F fill:#4285f4,color:#fff
    style G fill:#ea4335,color:#fff
    style H fill:#ea4335,color:#fff
    style I fill:#ea4335,color:#fff
    style J fill:#34a853,color:#fff